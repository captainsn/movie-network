function submitUser(){var a={};return form.email.value&&(a.email=form.email.value),form.password.value&&(a.password=form.password.value),a.email?a.password?a.password!==form.confirm.value?displayError("Passwords do not match"):void fetch("/register",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)}).then(submitSuccess).catch(submitError):displayError("Must provide password"):displayError("Must provide email")}function submitLogin(){var a={email:form.email.value,password:form.password.value};fetch("/login",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)}).then(function(a){a.ok||alert("ERROR"),a.json().then(function(a){alert(JSON.stringify(a)),localStorage.token=a.token,window.location.href="/account"})}).catch(submitError)}function clearForm(){form.reset(),clearError("message");for(var a=document.getElementsByClassName("hidden"),b=0;b<a.length;b++)a[b].style.display=""}function clearError(a){if("message"===a)return document.getElementById("js-error-message").style.visibility="hidden";a.style.border="1px solid #888"}function submitSuccess(a){if(!a.ok)return submitError(a);document.getElementById("js-success").style.display="block",clearForm()}function submitError(a,b){return a.status>=400&&a.status<500?a.text().then(function(a){displayError(a)}):b?displayError(b):void 0}function displayError(a){var b=document.getElementById("js-error-message");b.innerHTML=a,b.style.visibility="visible"}function sortItems(a,b){b=b||"";for(var c=0,d=document.querySelectorAll(".sortable"),e=0;e<d.length;e++){var f=document.querySelector("[data-default='"+e+"']");f.style.opacity=0,f.style.transitionDelay=(c+=.02)+"s"}d[d.length-1].addEventListener("transitionend",function(){for(var e=0;e<d.length;e++){var f=document.querySelector("[data-"+a+"='"+e+"']");f.style.order=b+e,f.style.opacity=1,f.style.transitionDelay=(c-=.02)+"s"}})}const form=document.forms[0];document.getElementById("high-to-low").addEventListener("click",function(){sortItems("order")}),document.getElementById("low-to-high").addEventListener("click",function(){sortItems("order","-")}),document.getElementById("default").addEventListener("click",function(){sortItems("default")});